server {
    listen 80 default_server;
#    server_name example.org;
    server_tokens off;

#    location /order-example1 {
#        proxy_pass  http://order-example1:8080;
#        proxy_set_header    Host                $http_host;
#        proxy_set_header    X-Real-IP           $remote_addr;
#        proxy_set_header    X-Forwarded-For     $proxy_add_x_forwarded_for;
#    }

#    location /order-example1 {
#        proxy_set_header X-Forwarded-Host $host;
#        proxy_set_header X-Forwarded-Server $host;
#        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
#
#      rewrite ^/order-example1(.*) /$1 break;
#       proxy_pass  http://host.docker.internal:8080;
#       
#   }

    location /order-example1/ {
        proxy_set_header X-Forwarded-Host $host;
        proxy_set_header X-Forwarded-Server $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
#        proxy_pass_header       Set-Cookie;
#        proxy_set_header        Host            $host;
#        proxy_set_header        X-Real-IP       $remote_addr;

# see https://newbedev.com/nginx-reverse-proxy-url-rewrite
 #       rewrite ^/order-example1(.*) /$1 break;
        proxy_pass  http://host.docker.internal:8080/;
        
    }



}

